
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Содержание &#8212; Документация elvoucher 1</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="id1">
<h1>Содержание<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/elvoucher.html">Главная страница</a>.</li>
</ul>
<ul class="simple">
<li><a href="#id20"><span class="problematic" id="id21">`Основная информация о системе`_</span></a>.</li>
</ul>
<ul class="simple">
<li><a href="#id22"><span class="problematic" id="id23">`Программное обеспечение системы`_</span></a>.</li>
</ul>
<ul class="simple">
<li><a href="#id24"><span class="problematic" id="id25">`Функциональная архитектура системы`_</span></a>.</li>
</ul>
<ul class="simple">
<li><a href="#id26"><span class="problematic" id="id27">`Подсистема оперативного контроля`_</span></a>.</li>
</ul>
<ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/PODIR.html">Подсистема информирования и доступа к информационным ресурсам</a>.</li>
</ul>
<ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/POFO.html">Подсистема формирования отчетов</a>.</li>
</ul>
<ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/POTOD.html">Подсистема оперативной транзакционной обработки данных</a>.</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/touroperator.html">Обмен данными с ИС туроператоров и турагентов</a>.</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/EFRT.html">Обмен данными с ЕФРТ</a>.</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/mail.html">Почтовое взаимодействие с внешними системами</a>.</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/AISTOUR.html">Обмен данными с АИС Туризм</a>.</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/SISROSTOUR.html">Обмен данными с СИС Ростуризм</a>.</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/fin.html">Обмен данными с информационными системами банков и страховых компаний</a>.</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/UC.html">Обмен данными с удостоверяющим центром</a>.</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/ESIA.html">Обмен данными с ЕСИА</a>.</li>
</ul>
</div></blockquote>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="/home/dmitrii/Elvoucher/docs/_build/html/EGISOTB.html">Обмен данными с ЕГИС ОТБ</a>.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id19">
<h1>Обмен данными с удостоверяющим центром<a class="headerlink" href="#id19" title="Ссылка на этот заголовок">¶</a></h1>
<p>Информационная система ЕСИА предназначена для обеспечения однократной аутентификации граждан в государственных информационных системах с использованием технологии SSO.</p>
<p>Взаимодействие пользователя с ЕСИА, его регистрация, аутентификация и поддержание сессий в активном состоянии осуществляется в соответствии с руководством пользователя ЕСИА (см. <a class="reference external" href="http://minsvyaz.ru/ru/documents/4240/">http://minsvyaz.ru/ru/documents/4240/</a>).</p>
<p>Интеграция с ЕСИА реализована на основании методических рекомендаций Минкомсвязи (см. <a class="reference external" href="http://minsvyaz.ru/ru/documents/4243/">http://minsvyaz.ru/ru/documents/4243/</a>).</p>
<p>Для идентификации туристов и предоставления им подробной информации о путевках Система взаимодействует с ЕСИА по следующему алгоритму:</p>
<ol class="arabic simple">
<li>пользователь инициализирует сессию аутентификации с Системой посредством перехода по специальной ссылке;</li>
<li>Система получает запрос на аутентификацию и перенаправляет на точку авторизации в ЕСИА;</li>
<li>пользователь авторизуется в ЕСИА. Далее осуществляется его перенаправление на страницу Системы с перечнем путевок, относящихся к идентифицированному физическому лицу. Идентификация осуществляется по номеру документа, удостоверяющему личность и дату рождения. Если данные поля в профиле пользователя ЕСИА не заполнены, то идентификация не будет осуществлена;</li>
<li>после идентификации пользователя ему предоставляется доступ к путевкам, идентифицированным по его персональным данным.</li>
</ol>
<p>Техническое взаимодействие Системы с ЕСИА осуществляется по следующему алгоритму:</p>
<ol class="arabic simple">
<li>при попытке входа через ЕСИА, Система посредством сервиса авторизации запрашивает у пользователя разрешение на доступ к соответствующим ресурсам;</li>
<li>Система получает разрешение на доступ (authorization grant) в виде авторизационного кода. Далее Система запрашивает маркер доступа, предъявив авторизационный код сервису авторизации;</li>
<li>сервис авторизации аутентифицирует Систему, проверяет авторизационный код и выдает маркер доступа и маркер обновления;</li>
<li>Система запрашивает у поставщика ресурса защищенный ресурс, предъявляя маркер доступа;</li>
<li>поставщик ресурса проверяет маркер доступа, если он валиден, то разрешает доступ к защищенному ресурсу;</li>
<li>Система вновь запрашивает с помощью выданного ранее маркера доступ к защищенному ресурсу. Поставщик ресурса проверяет маркер, обнаруживает, что срок его действия истек, возвращает сообщение об ошибке. Система обращается к сервису авторизации за получением нового маркера доступа, предъявляя маркер обновления. Сервис авторизации проверяет валидность маркера обновления и возвращает два новых маркера: доступа и обновления;</li>
</ol>
<p>7) после получения Системой маркера доступа, она может неоднократно обращаться за получением соответствующего защищенного ресурса, пока не истечет срок действия этого маркера. По истечении срока действия маркера доступа Системе потребуется получить новый маркер доступа.
Система использует один тип защищенных ресурсов – набор персональных идентификационных данных.
Взаимодействие Системы с ЕСИА осуществляется через протокол авторизации Oauth. На серверах приложений размещаются закрытые и открытые ключи для подписания запросов от Системы к ЕСИА. Открытый ключ передается и регистрируется в ЕСИА при регистрации информационной системы согласно регламенту взаимодействия с ЕСИА (см. <a class="reference external" href="http://minsvyaz.ru/ru/documents/4244/">http://minsvyaz.ru/ru/documents/4244/</a>).</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="elvoucher.html">Оглавление</a></h3>
  <ul>
<li><a class="reference internal" href="#">Содержание</a></li>
<li><a class="reference internal" href="#id19">Обмен данными с удостоверяющим центром</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="elvoucher.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>Эта страница</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ESIA.rst.txt"
            rel="nofollow">Исходный текст</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Быстрый поиск</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Искать" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, dmitrii.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/ESIA.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>